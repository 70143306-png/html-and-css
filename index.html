<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NexaFlow — Your modern site</title>
  <!-- Tailwind CDN for quick use -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Flowbite (Tailwind components) -->
  <link rel="stylesheet" href="https://unpkg.com/flowbite@1.7.0/dist/flowbite.min.css" />
  <script defer src="https://unpkg.com/flowbite@1.7.0/dist/flowbite.min.js"></script>
  <style>
    /* Small custom styles */
    .bg-hero { background: linear-gradient(135deg,#7c3aed 0%, #06b6d4 100%);} 
    .glass { backdrop-filter: blur(6px); background-color: rgba(255,255,255,0.06); }
  </style>
</head>
<body class="min-h-screen bg-gray-900 text-slate-100 antialiased">
  <div id="app" class="flex flex-col min-h-screen">

    <!-- NAV / HERO -->
    <header class="sticky top-0 z-40 bg-opacity-30 bg-black/40 backdrop-blur-sm">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <div class="flex items-center gap-3">
            <button id="brandBtn" class="flex items-center gap-3" aria-label="home">
              <div class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-cyan-400 rounded-full flex items-center justify-center shadow-lg">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6l4 2"></path>
                </svg>
              </div>
              <div class="hidden sm:block">
                <div class="text-lg font-semibold leading-none">NexaFlow</div>
                <div class="text-xs text-slate-300 -mt-0.5">beautifully simple</div>
              </div>
            </button>
          </div>

          <nav class="hidden md:flex items-center gap-4">
            <a href="#" data-view="home" class="navlink px-3 py-2 rounded-md hover:bg-white/5">Home</a>
            <a href="#" data-view="features" class="navlink px-3 py-2 rounded-md hover:bg-white/5">Features</a>
            <a href="#" data-view="contact" class="navlink px-3 py-2 rounded-md hover:bg-white/5">Contact</a>
            <a href="#" data-view="signin" id="signinLink" class="px-3 py-2 rounded-md bg-white/6 hover:bg-white/10">Sign In</a>
            <a href="#" data-view="signup" id="signupLink" class="px-3 py-2 rounded-md bg-gradient-to-r from-indigo-500 to-cyan-400 text-white shadow">Sign Up</a>
          </nav>

          <div class="md:hidden flex items-center">
            <button id="mobileMenuBtn" class="p-2 rounded-md hover:bg-white/5">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Mobile menu -->
      <div id="mobileMenu" class="md:hidden hidden px-4 pb-4">
        <div class="flex flex-col gap-2">
          <a href="#" data-view="home" class="navlink p-3 rounded-md hover:bg-white/5">Home</a>
          <a href="#" data-view="features" class="navlink p-3 rounded-md hover:bg-white/5">Features</a>
          <a href="#" data-view="contact" class="navlink p-3 rounded-md hover:bg-white/5">Contact</a>
          <a href="#" data-view="signin" class="p-3 rounded-md hover:bg-white/5">Sign In</a>
          <a href="#" data-view="signup" class="p-3 rounded-md bg-gradient-to-r from-indigo-500 to-cyan-400 text-white">Sign Up</a>
        </div>
      </div>
    </header>

    <!-- Views container -->
    <main class="flex-1">
      <section id="home" class="view p-6 max-w-6xl mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
          <div class="space-y-6">
            <h1 class="text-4xl sm:text-5xl font-extrabold leading-tight"> <span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-cyan-300">NexaFlow</span></h1>
            <p class="text-slate-300">Welcome to our website!Now you can create your account easily to see the website features.</p>
            <div class="flex gap-3">
              <a href="#" data-view="signup" class="inline-flex items-center gap-2 px-5 py-3 rounded-md bg-gradient-to-r from-indigo-500 to-cyan-400 shadow hover:scale-[1.01]">Create account</a>
              <a href="#" data-view="features" class="inline-flex items-center gap-2 px-5 py-3 rounded-md border border-white/10">See features</a>
            </div>

            <div class="mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div class="p-4 glass rounded-xl shadow-inner">
                <h3 class="font-semibold">Responsive UI</h3>
                <p class="text-sm text-slate-300">Built with Tailwind so it looks great on mobile and desktop.</p>
              </div>
              <div class="p-4 glass rounded-xl shadow-inner">
                <h3 class="font-semibold">Interlinked Pages</h3>
                <p class="text-sm text-slate-300">Navigation and buttons switch views without separate files.</p>
              </div>
            </div>

          </div>

          <div class="bg-gradient-to-br from-slate-900/40 to-white/2 p-6 rounded-2xl shadow-lg glass">
            <div class="flex flex-col gap-4">
              <div class="p-3 rounded-xl bg-gradient-to-tr from-indigo-600 to-cyan-400 text-slate-900 font-semibold">Preview Card</div>
              <div class="flex gap-3">
                <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='400' height='250'><rect width='100%' height='100%' fill='%230b1220'/><text x='50%' y='50%' fill='%23a5b4fc' font-size='20' dominant-baseline='middle' text-anchor='middle'>NexaFlow Preview</text></svg>"
                  alt="preview" class="rounded-lg w-full" />
              </div>

              <div class="mt-2 text-sm text-slate-300">Tip: Try Sign Up to see client-side validation and localStorage persistence (works offline).</div>
            </div>
          </div>

        </div>

        <!-- Quick features grid -->
        <div class="mt-12 grid grid-cols-1 sm:grid-cols-3 gap-6">
          <div class="p-5 rounded-lg bg-white/3">
            <h4 class="font-semibold">Modern design</h4>
            <p class="text-sm text-slate-300 mt-2">Gradients, soft shadows, and glassy panels.</p>
          </div>
          <div class="p-5 rounded-lg bg-white/3">
            <h4 class="font-semibold">Form validation</h4>
            <p class="text-sm text-slate-300 mt-2">Sign up and Sign in validations with helpful messages.</p>
          </div>
          <div class="p-5 rounded-lg bg-white/3">
            <h4 class="font-semibold">Contact form</h4>
            <p class="text-sm text-slate-300 mt-2">Collect name, email, and message; verified client-side.</p>
          </div>
        </div>
      </section>

      <!-- Features -->
      <section id="features" class="view hidden p-6 max-w-6xl mx-auto">
        <div class="prose prose-invert">
          <h2>Features</h2>
          <ul>
            <li>Single-file SPA (no server needed) — just open the file.</li>
            <li>Tailwind CDN for easy customization.</li>
            <li>Accessible forms with validation.</li>
            <li>Local demo accounts stored in browser (localStorage).</li>
          </ul>
        </div>
      </section>

      <!-- Sign In -->
      <section id="signin" class="view hidden p-6 max-w-md mx-auto">
        <div class="bg-gradient-to-br from-slate-800/60 to-black/40 p-6 rounded-2xl shadow-lg glass">
          <h2 class="text-2xl font-bold mb-2">Welcome back</h2>
          <p class="text-sm text-slate-300 mb-4">Sign in to continue to NexaFlow</p>

          <form id="signinForm" class="space-y-4" onsubmit="return false;">
            <div>
              <label class="block text-sm">Email</label>
              <input id="signinEmail" type="email" required class="w-full mt-1 p-3 rounded-md bg-transparent border border-white/10 focus:outline-none" placeholder="you@example.com">
            </div>
            <div>
              <label class="block text-sm">Password</label>
              <input id="signinPassword" type="password" required class="w-full mt-1 p-3 rounded-md bg-transparent border border-white/10 focus:outline-none" placeholder="Your password">
            </div>
            <div class="flex items-center justify-between">
              <div class="text-sm">
                <a href="#" data-view="signup" class="underline">Don't have an account?</a>
              </div>
              <button id="signinBtn" class="px-4 py-2 rounded-md bg-gradient-to-r from-indigo-500 to-cyan-400">Sign In</button>
            </div>
            <div id="signinMsg" class="text-sm mt-2"></div>
          </form>
        </div>
      </section>

      <!-- Sign Up -->
      <section id="signup" class="view hidden p-6 max-w-md mx-auto">
        <div class="bg-gradient-to-br from-slate-800/60 to-black/40 p-6 rounded-2xl shadow-lg glass">
          <h2 class="text-2xl font-bold mb-2">Create your account</h2>
          <p class="text-sm text-slate-300 mb-4">Join NexaFlow — fast and easy.</p>

          <form id="signupForm" class="space-y-4" onsubmit="return false;">
            <div>
              <label class="block text-sm">Full name</label>
              <input id="signupName" type="text" required class="w-full mt-1 p-3 rounded-md bg-transparent border border-white/10" placeholder="Ali Ahmad">
            </div>
            <div>
              <label class="block text-sm">Email</label>
              <input id="signupEmail" type="email" required class="w-full mt-1 p-3 rounded-md bg-transparent border border-white/10" placeholder="you@example.com">
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
              <div>
                <label class="block text-sm">Password</label>
                <input id="signupPassword" type="password" minlength="6" required class="w-full mt-1 p-3 rounded-md bg-transparent border border-white/10" placeholder="6+ characters">
              </div>
              <div>
                <label class="block text-sm">Confirm</label>
                <input id="signupConfirm" type="password" minlength="6" required class="w-full mt-1 p-3 rounded-md bg-transparent border border-white/10" placeholder="Repeat password">
              </div>
            </div>

            <div class="flex items-center gap-3">
              <input id="agree" type="checkbox" class="h-4 w-4" required>
              <label class="text-sm">I agree to the terms</label>
            </div>

            <div class="flex items-center justify-between">
              <button id="signupBtn" class="px-4 py-2 rounded-md bg-gradient-to-r from-indigo-500 to-cyan-400">Create account</button>
              <a href="#" data-view="signin" class="underline text-sm">Already registered?</a>
            </div>

            <div id="signupMsg" class="text-sm mt-2"></div>
          </form>
        </div>
      </section>

      <!-- CONTACT (updated to include Flowbite components + Formspree) -->
      <section id="contact" class="view hidden p-6 max-w-2xl mx-auto">
        <div class="bg-gradient-to-br from-slate-800/60 to-black/40 p-6 rounded-2xl shadow-lg glass">
          <h2 class="text-2xl font-bold mb-2">Get in touch</h2>
          <p class="text-sm text-slate-300 mb-4">Have questions? Use the contact form below. Submissions use Formspree (demo): replace <code>{your_form_id}</code> with your Formspree ID.</p>

          <!-- Flowbite components used: Label, Input, Textarea, Checkbox, Button, Alert (>=5 components) -->

          <!-- Alert placeholder (Flowbite alert component) -->
          <div id="contactAlert" class="hidden mb-4" role="alert">
            <div class="p-4 rounded-lg bg-green-50 text-green-800" id="contactAlertContent"></div>
          </div>

          <!-- Contact form integrated with Formspree. Replace FORM_ID below with your Formspree form id (e.g. f/mqnpjvzy) -->
          <form id="contactForm" class="space-y-4" method="POST" action="https://formspree.io/f/{your_form_id}">

            <!-- Name (Flowbite input) -->
            <div>
              <label for="contactName" class="block mb-2 text-sm font-medium text-slate-200">Your name</label>
              <input type="text" name="name" id="contactName" required minlength="2" class="bg-gray-800 border border-gray-700 text-slate-100 text-sm rounded-lg focus:ring-2 focus:ring-indigo-500 block w-full p-2.5" placeholder="Ali Ahmad">
            </div>

            <!-- Email -->
            <div>
              <label for="contactEmail" class="block mb-2 text-sm font-medium text-slate-200">Your email</label>
              <input type="email" name="email" id="contactEmail" required class="bg-gray-800 border border-gray-700 text-slate-100 text-sm rounded-lg focus:ring-2 focus:ring-indigo-500 block w-full p-2.5" placeholder="you@example.com">
            </div>

            <!-- Subject (Flowbite select component) -->
            <div>
              <label for="contactSubject" class="block mb-2 text-sm font-medium text-slate-200">Subject</label>
              <select id="contactSubject" name="subject" class="bg-gray-800 border border-gray-700 text-slate-100 text-sm rounded-lg focus:ring-2 focus:ring-indigo-500 block w-full p-2.5">
                <option>General question</option>
                <option>Assignment help</option>
                <option>Bug report</option>
                <option>Other</option>
              </select>
            </div>

            <!-- Message (Flowbite textarea) -->
            <div>
              <label for="contactMessage" class="block mb-2 text-sm font-medium text-slate-200">Message</label>
              <textarea id="contactMessage" name="message" rows="4" required minlength="10" class="block p-2.5 w-full text-sm bg-gray-800 border border-gray-700 rounded-lg text-slate-100 focus:ring-2 focus:ring-indigo-500" placeholder="Write your message..."></textarea>
            </div>

            <!-- Checkbox (Flowbite) -->
            <div class="flex items-start">
              <div class="flex items-center h-5">
                <input id="contactConsent" aria-describedby="consent" name="consent" type="checkbox" class="w-4 h-4 bg-gray-700 rounded border-gray-600 focus:ring-2 focus:ring-indigo-500" required>
              </div>
              <div class="ml-3 text-sm">
                <label for="contactConsent" class="font-medium text-slate-200">I agree to be contacted</label>
                <p id="consent" class="text-slate-400">We will only use your email to reply to this message (demo).</p>
              </div>
            </div>

            <!-- Flowbite button -->
            <div class="flex items-center justify-between">
              <button id="contactBtn" type="submit" class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-indigo-500 to-cyan-400 rounded-lg hover:brightness-105 focus:ring-2 focus:ring-indigo-500">
                Send message
              </button>

              <button id="contactClear" type="button" class="text-sm underline text-slate-300">Clear</button>
            </div>

            <!-- small helper text -->
            <p class="text-xs text-slate-400">Note: This demo posts to Formspree. To receive real emails, sign up at formspree.io and replace <code>{your_form_id}</code> in the form's action URL.</p>

          </form>

        </div>
      </section>

      <!-- Footer -->
      <footer class="p-6 mt-12 border-t border-white/5">
        <div class="max-w-6xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4">
          <div class="text-sm">© <span id="year"></span> NexaFlow — Crafted for your assignment</div>
          <div class="text-sm text-slate-400">Made with ❤️ • Tailwind CSS • Flowbite</div>
        </div>
      </footer>
    </main>
  </div>

  <script>
    // Basic SPA navigation logic
    const views = document.querySelectorAll('.view');
    function showView(id) {
      views.forEach(v=> v.id === id ? v.classList.remove('hidden') : v.classList.add('hidden'));
      // close mobile menu
      document.getElementById('mobileMenu').classList.add('hidden');
      // set active navlink styles (optional)
      document.querySelectorAll('.navlink').forEach(n=> n.classList.remove('text-indigo-300'));
      document.querySelectorAll('[data-view]').forEach(el=>{
        if(el.dataset.view === id) el.classList.add('text-indigo-300');
      });
    }

    // initial view
    showView('home');

    // nav handlers
    document.querySelectorAll('[data-view]').forEach(el=>{
      el.addEventListener('click', e=>{
        e.preventDefault();
        const target = el.dataset.view;
        showView(target);
      });
    });

    document.getElementById('brandBtn').addEventListener('click', ()=> showView('home'));

    // mobile menu toggle
    document.getElementById('mobileMenuBtn').addEventListener('click', ()=>{
      document.getElementById('mobileMenu').classList.toggle('hidden');
    });

    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Simple client-side user store (localStorage)
    const USERS_KEY = 'nexaflow_users_v1';
    function loadUsers(){ try { return JSON.parse(localStorage.getItem(USERS_KEY)||'[]') } catch(e){ return [] }}
    function saveUsers(u){ localStorage.setItem(USERS_KEY, JSON.stringify(u)) }

    // Signup
    const signupForm = document.getElementById('signupForm');
    const signupMsg = document.getElementById('signupMsg');
    signupForm.addEventListener('submit', (e)=>{
      e.preventDefault();
      signupMsg.textContent = '';
      const name = document.getElementById('signupName').value.trim();
      const email = document.getElementById('signupEmail').value.trim().toLowerCase();
      const password = document.getElementById('signupPassword').value;
      const confirm = document.getElementById('signupConfirm').value;
      const agree = document.getElementById('agree').checked;

      if(!agree){ signupMsg.textContent = 'You must agree to the terms.'; return }
      if(password.length < 6){ signupMsg.textContent = 'Password must be at least 6 characters.'; return }
      if(password !== confirm){ signupMsg.textContent = 'Passwords do not match.'; return }

      const users = loadUsers();
      if(users.some(u=>u.email===email)){
        signupMsg.textContent = 'An account with that email already exists.'; return
      }

      users.push({name, email, password});
      saveUsers(users);
      signupMsg.textContent = 'Account created! You can now sign in.';
      signupForm.reset();
      showView('signin');
      document.getElementById('signinMsg').textContent = 'Account created — please sign in.';
    });

    // Signin
    const signinForm = document.getElementById('signinForm');
    const signinMsg = document.getElementById('signinMsg');
    signinForm.addEventListener('submit', (e)=>{
      e.preventDefault();
      signinMsg.textContent = '';
      const email = document.getElementById('signinEmail').value.trim().toLowerCase();
      const password = document.getElementById('signinPassword').value;

      const users = loadUsers();
      const found = users.find(u=>u.email===email && u.password===password);
      if(found){
        signinMsg.innerHTML = `Signed in as <strong>${escapeHtml(found.name)}</strong> — nice!`;
        // simulate logged-in state: show home and personalize
        showView('home');
      } else {
        signinMsg.textContent = 'Invalid email or password.';
      }
    });

    // Contact form handling (validation + Formspree integration)
    const contactForm = document.getElementById('contactForm');
    const contactAlert = document.getElementById('contactAlert');
    const contactAlertContent = document.getElementById('contactAlertContent');

    contactForm.addEventListener('submit', async (e)=>{
      // let the browser do HTML5 required checks first
      if(!contactForm.checkValidity()){ 
        // show a red alert using Flowbite style
        showAlert('Please fill all required fields and ensure messages are long enough.', true);
        return;
      }
      e.preventDefault();

      // gather data
      const data = new FormData(contactForm);
      // show loading state
      const btn = document.getElementById('contactBtn');
      btn.disabled = true; btn.textContent = 'Sending…';

      // Send to Formspree using the form's action attribute
      const url = contactForm.action;

      try{
        const resp = await fetch(url, { method: 'POST', body: data, headers: { 'Accept': 'application/json' } });
        if(resp.ok){
          showAlert('Thanks! Your message has been sent. We will reply to your email (demo).');
          contactForm.reset();
        } else {
          const err = await resp.json().catch(()=>null);
          showAlert('Submission failed. Check your Formspree setup or internet connection.', true);
          console.error('Formspree error', err);
        }
      }catch(err){
        showAlert('Network error while sending message.', true);
        console.error(err);
      } finally{
        btn.disabled = false; btn.textContent = 'Send message';
      }
    });

    // Clear button
    document.getElementById('contactClear').addEventListener('click', ()=>{ contactForm.reset(); hideAlert(); });

    function showAlert(text, isError=false){
      contactAlert.classList.remove('hidden');
      contactAlertContent.textContent = text;
      contactAlertContent.classList.toggle('bg-red-50', isError);
      contactAlertContent.classList.toggle('text-red-800', isError);
      contactAlertContent.classList.toggle('bg-green-50', !isError);
      contactAlertContent.classList.toggle('text-green-800', !isError);
    }
    function hideAlert(){ contactAlert.classList.add('hidden'); }

    // small helper
    function escapeHtml(s){ return s.replace(/[&<>\"']/g, c=>({
      '&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;',"'":'&#39;'}[c])) }

    // keyboard: press Escape to go Home
    document.addEventListener('keydown', e=>{ if(e.key==='Escape') showView('home') });

    // Optional: preload a demo account if none exists (for testing)
    (function ensureDemo(){
      const users = loadUsers();
      if(users.length===0){
        users.push({name:'Ali Ahmad', email:'ali@example.com', password:'password123'});
        saveUsers(users);
      }
    })();
  </script>
</body>
</html>
